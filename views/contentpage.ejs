<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= blog.title %> - Blogitech.io</title>
    <link rel="shortcut icon" href="/images/Untitled-1.png" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'fade-in': 'fadeIn 0.6s ease-out',
                        'slide-up': 'slideUp 0.8s ease-out',
                        'scale-in': 'scaleIn 0.5s ease-out',
                        'float': 'float 3s ease-in-out infinite',
                        'gradient': 'gradient 8s ease infinite',
                        'glow': 'glow 2s ease-in-out infinite alternate'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(30px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        },
                        scaleIn: {
                            '0%': { transform: 'scale(0.9)', opacity: '0' },
                            '100%': { transform: 'scale(1)', opacity: '1' }
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-10px)' }
                        },
                        gradient: {
                            '0%, 100%': { backgroundPosition: '0% 50%' },
                            '50%': { backgroundPosition: '100% 50%' }
                        },
                        glow: {
                            '0%': { boxShadow: '0 0 20px rgba(168, 85, 247, 0.4)' },
                            '100%': { boxShadow: '0 0 30px rgba(168, 85, 247, 0.8)' }
                        }
                    },
                    backgroundSize: {
                        '300%': '300%'
                    }
                }
            }
        }
    </script>
    <style>
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .hero-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-size: 300% 300%;
            animation: gradient 8s ease infinite;
        }
        
        .blog-card {
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        }
        
        .floating-elements::before {
            content: '';
            position: absolute;
            top: 10%;
            left: 5%;
            width: 100px;
            height: 100px;
            background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
            border-radius: 50%;
            opacity: 0.1;
            animation: float 4s ease-in-out infinite;
        }
        
        .floating-elements::after {
            content: '';
            position: absolute;
            bottom: 10%;
            right: 5%;
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 50%;
            opacity: 0.1;
            animation: float 3s ease-in-out infinite reverse;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 to-blue-50">
    
    <!-- Modern Navigation -->
    <nav class="fixed top-0 w-full z-50  animate-fade-in bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-3 animate-scale-in">
                    <img src="../images/Untitled-1.png" alt="" class="w-10 h-10 rounded-md">
                    <a class="text-2xl font-bold gradient-text cursor-pointer" href="/">Blogitech.io</a>
                </div>
                
                <div class="hidden md:flex space-x-8">
                    <a href="/" class="text-gray-700 hover:text-purple-600 font-medium transition-all duration-300 hover:scale-105">Home</a>
                    <a href="/#features" class="text-gray-700 hover:text-purple-600 font-medium transition-all duration-300 hover:scale-105">Latest Trends</a>
                    <a href="/blog/createblog" class="text-gray-700 hover:text-purple-600 font-medium transition-all duration-300 hover:scale-105">Write A Blog</a>
                </div>
                
                <div class="flex items-center space-x-4">
                    <span style="display: none;">Debug: <%= JSON.stringify(typeof user) %></span>
                    
                    <% if(typeof user !== 'undefined' && user !== null){ %>
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <% if(user.profileImage) { %>
                                    <img class="w-10 h-10 object-cover rounded-full border-2 border-purple-500 ring-2 ring-purple-100" src="<%= user.profileImage %>" alt="Profile">
                                <% } else { %>
                                    <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full border-2 border-purple-500 ring-2 ring-purple-100 flex items-center justify-center">
                                        <span class="text-white font-semibold text-sm"><%= user.fullname.charAt(0).toUpperCase() %></span>
                                    </div>
                                <% } %>
                                <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"></div>
                            </div>
                            <p class="font-semibold text-gray-700"><%= user.fullname %></p>
                            <a href="/user/logout" 
                               class="px-6 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-full font-semibold hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl">
                                Logout
                            </a>
                        </div>
                    <% } else { %>
                        <a href="/user/signup" 
                           class="px-6 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-full font-semibold hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl">
                            Sign Up
                        </a>
                        <a href="/user/signin" 
                           class="px-6 py-2 border border-purple-600 text-purple-600 rounded-full font-semibold hover:bg-purple-600 hover:text-white transition-all duration-300">
                            Login
                        </a>
                    <% } %>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section with Blog Title -->
    <div class="relative pt-20 pb-16 hero-gradient floating-elements overflow-hidden">
        <div class="max-w-4xl mx-auto px-4 text-center animate-slide-up">
            <h1 class="text-4xl md:text-6xl font-bold text-white mb-6 leading-tight">
                <%= blog.title %>
            </h1>
            <div class="w-24 h-1 bg-gradient-to-r from-yellow-300 to-pink-300 mx-auto rounded-full"></div>
        </div>
    </div>

    <!-- Blog Content -->
    <div class="max-w-4xl mx-auto px-4 -mt-8 relative z-10 animate-slide-up">
        
        <!-- Blog Card -->
        <article class="blog-card rounded-3xl overflow-hidden shadow-2xl">
            <!-- Cover Image with Modern Overlay -->
            <div class="relative group">
                <img 
                    src="<%= blog.coverImageUrl %>" 
                    alt="Blog Cover" 
                    class="w-full h-96 object-cover transition-transform duration-700 group-hover:scale-105"
                />
                <div class="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"></div>
                
                <!-- Floating Category Badge -->
                
                
                <!-- Reading Time -->
                <div class="absolute top-6 right-6">
                    <span class="px-4 py-2 bg-black/20 backdrop-blur-md rounded-full text-white font-semibold text-sm">
                        5 min read
                    </span>
                </div>
            </div>

            <!-- Content Section -->
            <div class="p-8 md:p-12">
                
                <!-- Author Info with Modern Design -->
                <div class="flex items-center space-x-4 mb-8">
                    <div class="relative">
                        <img 
                            src="<%= blog.createdBy.profileImage %>" 
                            alt="Author" 
                            class="w-12 h-12 rounded-full object-cover ring-4 ring-purple-100"
                        />
                        <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"></div>
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-900"><%= blog.createdBy.fullname %></h3>
                        <p class="text-gray-500 text-sm">Blog Author</p>
                    </div>
                    <div class="flex-1"></div>
                    <div class="text-right">
                        <p class="text-gray-500 text-sm">Published</p>
                        <p class="font-semibold text-gray-700"><%= (blog.createdAt).toUTCString().slice(0,17) %></p>
                    </div>
                </div>


                <!-- Blog Content -->
                <div class="prose prose-lg prose-purple max-w-none">
                    <div class="text-lg text-gray-700 leading-relaxed whitespace-pre-wrap font-sans">
                        <%= blog.blogDesc %>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="flex flex-col sm:flex-row gap-4 mt-12 pt-8 border-t border-gray-100">
                    
                </div>
            </div>
        </article>
    </div>

    <script>
        // Add smooth scrolling and dynamic effects
        document.addEventListener('DOMContentLoaded', function() {
            // Intersection Observer for animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // Observe elements for scroll animations
            document.querySelectorAll('article, .group').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(el);
            });

            // Add floating animation to navigation
            const nav = document.querySelector('nav');
            let lastScrollY = window.scrollY;
            
            window.addEventListener('scroll', () => {
                if (window.scrollY > lastScrollY) {
                    nav.style.transform = 'translateY(-100%)';
                } else {
                    nav.style.transform = 'translateY(0)';
                }
                lastScrollY = window.scrollY;
            });
        });
    </script>
</body>
</html>